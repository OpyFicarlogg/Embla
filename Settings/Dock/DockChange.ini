;Options file to move, delete, add a icon 

[Rainmeter]
Update=200

[Metadata]
Name=Embla |
Author=Ficarlo
Information=
Version=1.0
License=Creative Commons BY-NC-SA 3.0



[Variables]
settingsFile="DockSettings.ini"
autoGeneratedFolder="Dock1Autogenerated"

[IncludeVar]
@include=#@#Dock\#settingsFile#




;-----------------------------------BackGroundZone ---------------------------------
[MeterBackground]
Meter=Image
W=((#NbIcons#+1)*(#Spacing#+#IconSize#))
H=(#IconSize#+#Spacing#+(#IconSize#))
SolidColor=0,0,0,200
MouseLeaveAction=[!HideMeterGroup Delete][!WriteKeyValue Variables deleteIcon "0" "#@#Dock\#settingsFile#"]
DynamicVariables=1

[MeterBar]
Meter=Image
W=((#NbIcons#+1)*(#Spacing#+#IconSize#))
H=3
X=0
Y=0
Angle=(153)
;Y=(#IconSize#+#Spacing#) Barre en dessous
SolidColor=255,255,255,100

;------------------------------ Icons--------------------------------

@includeIcons=#@#Dock\#autoGeneratedFolder#\Icons.ini

;--------------------------Ajout du bouton add------------------

[MeterAddIcon]
Meter=Image
MeterStyle=IconStyle 
ImageName=#@#Dock\Images\addIcon.png
W=(#IconSize#/1.5)
H=(#IconSize#/1.5)
X=(#Spacing#+#IconSize#)r
Y=(#IconSize#/5)r
ImageAlpha=70
MouseOverAction=[!SetOption #CURRENTSECTION# ImageAlpha 255]
MouseLeaveAction=[!SetOption #CURRENTSECTION# ImageAlpha 70]
ToolTipText=Add a new Icon
LeftMouseUpAction=[!ShowMeterGroup Add]


[MeterClose]
Meter=Image
MeterStyle=IconStyle 
ImageName=#@#Dock\Images\close.png
W=12
H=12
X=35r
Y=-13r
ImageAlpha=120
ToolTipText=close
MouseOverAction=[!SetOption #CURRENTSECTION# ImageAlpha 255]
MouseLeaveAction=[!SetOption #CURRENTSECTION# ImageAlpha 120]
LeftMouseUpAction=[!DeactivateConfig]

;----------------------Options delete + change order ------------

@includeOptions=#@#Dock\#autoGeneratedFolder#\IconOptions.ini


;--------------------------Option delete 

@includeDelete=#@#Dock\Static\DeleteIconOptions.ini


;--------------------------Add Option

@includeAdd=#@#Dock\Static\AddIconOptions.ini
;--------------------------------Measure-----------------------------

[MeasurePosition]
Measure=Script
ScriptFile=#@#Dock\Script\ChangePosition.lua
settingsFile=#@#Dock\#settingsFile#
DynamicVariables=1

[MeasureDelete]
Measure=Script
ScriptFile=#@#Dock\Script\DeleteIcon.lua
settingsFile=#@#Dock\#settingsFile#
DynamicVariables=1


[MeasureCreate]
Measure=Script
ScriptFile=#@#Dock\Script\CreateIcon.lua
settingsFile=#@#Dock\#settingsFile#
destFolder=#@#Dock\#autoGeneratedFolder#
destFolderOptions=#@#Dock\#autoGeneratedFolder#
dockFile="Dock.ini"
dockFolder="#ROOTCONFIG#\Dock"
DynamicVariables=1

[MeasureOnLoad]
Measure=Calc
Formula=Counter
IfEqualValue=1
IfEqualAction=[!WriteKeyValue Variables addImage "" "#@#Dock\#settingsFile#"][!WriteKeyValue Variables addAction "" "#@#Dock\#settingsFile#"][!WriteKeyValue Variables deleteIcon "0" "#@#Dock\#settingsFile#"][!WriteKeyValue Variables addAction "" "#@#Dock\#settingsFile#"][!WriteKeyValue Variables oldIcon "0" "#@#Dock\#settingsFile#"][!WriteKeyValue Variables selectedIcon "0" "#@#Dock\#settingsFile#"]
UpdateDivider=-1



;-------------------------------Styles------------------------------

[IconStyle]
Group=Icons
W=(#IconSize#)
H=(#IconSize#)
DynamicVariables=1
Antialias=1

@includeIconStyle=#@#Dock\Static\IconStyles.ini

;----- Options styles

[ShapeStyle]
Group=Options
Shape=Rectangle 1,1,20,20 | Fill Color 255,255,255,150 | Stroke Color 0,0,0,150

[ValueStyle]
Group=Options
AntiAlias=1
ToolTipText=New Position

[DeleteStyle]
ImageName=#@#Dock\Images\deleteIcon.png
Group=Options
W=20
H=20
ImageAlpha=70
MouseOverAction=[!SetOption #CURRENTSECTION# ImageAlpha 255]
MouseLeaveAction=[!SetOption #CURRENTSECTION# ImageAlpha 70]

;---- Option delete style

[DeleteOptionStyle]
Group=Delete
Y=r
W=27
H=20
MouseOverAction=[!SetOption #CURRENTSECTION# Solidcolor "255,255,255,70"]
MouseLeaveAction=[!SetOption #CURRENTSECTION# Solidcolor "255,255,255,1"]
DynamicVariables=1
Hidden=1

